import{S as H,i as L,s as F,k as g,l as v,m as b,h as u,n as p,b as h,E as I,t as T,d as U,f as D,I as Y,N as A,O as J,R as z,g as K,C as Q,T as W,q as S,r as w,u as O,a as E,c as R,L as X,J as M,U as Z,e as V,V as $,M as x}from"../../../chunks/index-29796fea.js";import{w as ee}from"../../../chunks/index-b0327fcf.js";import{f as j}from"../../../chunks/index-c52e3b54.js";const te=(window==null?void 0:window.localStorage.getItem("story_id"))??"1",N=ee(te);N.subscribe(o=>{window==null||window.localStorage.setItem("story_id",o),console.log(o)});let le=[{id:"1",message:"The greatest story ever.",img:"src/images/cryptid.jpg",choices:[{id:"2",text:"Begin"}]},{id:"2",message:"hva skal du gj繪re",img:"src/images/fly_out_the_car.jpeg",choices:[{id:"3",text:"Left"},{id:"4",text:"Right"}]},{id:"3",message:"du blev fattig 不不不不不不不不不不不不不不不不不不不不不不不不",img:"src/images/kys_ending.png",choices:[{id:"4",text:"Other right"},{id:"4",text:"Right"}]},{id:"4",message:"",html:'<video controls autoplay ><source src="src/images/fish.mp4" type="video/mp4"></video>',choices:[{id:"1",text:"Reset!"}]}];function q(o,e,s){const i=o.slice();return i[4]=e[s],i}function se(o){let e,s,i,t;return{c(){e=g("p"),s=S("STORY FOR ID "),i=S(o[0]),t=S(" MISSING")},l(l){e=v(l,"P",{});var c=b(e);s=w(c,"STORY FOR ID "),i=w(c,o[0]),t=w(c," MISSING"),c.forEach(u)},m(l,c){h(l,e,c),I(e,s),I(e,i),I(e,t)},p(l,c){c&1&&O(i,l[0])},d(l){l&&u(e)}}}function ie(o){let e,s,i,t=o[1].message+"",l,c,n,r=o[1].img&&G(o),_=o[1].html&&P(o),k=o[1].choices,m=[];for(let a=0;a<k.length;a+=1)m[a]=B(q(o,k,a));return{c(){r&&r.c(),e=E(),_&&_.c(),s=E(),i=g("p"),l=S(t),c=E(),n=g("div");for(let a=0;a<m.length;a+=1)m[a].c();this.h()},l(a){r&&r.l(a),e=R(a),_&&_.l(a),s=R(a),i=v(a,"P",{});var d=b(i);l=w(d,t),d.forEach(u),c=R(a),n=v(a,"DIV",{class:!0});var f=b(n);for(let y=0;y<m.length;y+=1)m[y].l(f);f.forEach(u),this.h()},h(){p(n,"class","row svelte-171c1n0")},m(a,d){r&&r.m(a,d),h(a,e,d),_&&_.m(a,d),h(a,s,d),h(a,i,d),I(i,l),h(a,c,d),h(a,n,d);for(let f=0;f<m.length;f+=1)m[f].m(n,null)},p(a,d){if(a[1].img?r?r.p(a,d):(r=G(a),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),a[1].html?_?_.p(a,d):(_=P(a),_.c(),_.m(s.parentNode,s)):_&&(_.d(1),_=null),d&2&&t!==(t=a[1].message+"")&&O(l,t),d&6){k=a[1].choices;let f;for(f=0;f<k.length;f+=1){const y=q(a,k,f);m[f]?m[f].p(y,d):(m[f]=B(y),m[f].c(),m[f].m(n,null))}for(;f<m.length;f+=1)m[f].d(1);m.length=k.length}},d(a){r&&r.d(a),a&&u(e),_&&_.d(a),a&&u(s),a&&u(i),a&&u(c),a&&u(n),X(m,a)}}}function G(o){let e,s,i;return{c(){e=g("img"),this.h()},l(t){e=v(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){M(e.src,s=o[1].img)||p(e,"src",s),p(e,"alt",i=o[1].message),p(e,"class","svelte-171c1n0")},m(t,l){h(t,e,l)},p(t,l){l&2&&!M(e.src,s=t[1].img)&&p(e,"src",s),l&2&&i!==(i=t[1].message)&&p(e,"alt",i)},d(t){t&&u(e)}}}function P(o){let e,s=o[1].html+"",i;return{c(){e=new Z(!1),i=V(),this.h()},l(t){e=$(t,!1),i=V(),this.h()},h(){e.a=i},m(t,l){e.m(s,t,l),h(t,i,l)},p(t,l){l&2&&s!==(s=t[1].html+"")&&e.p(s)},d(t){t&&u(i),t&&e.d()}}}function B(o){let e,s=o[4].text+"",i,t,l;function c(){return o[3](o[4])}return{c(){e=g("button"),i=S(s)},l(n){e=v(n,"BUTTON",{});var r=b(e);i=w(r,s),r.forEach(u)},m(n,r){h(n,e,r),I(e,i),t||(l=x(e,"click",c),t=!0)},p(n,r){o=n,r&2&&s!==(s=o[4].text+"")&&O(i,s)},d(n){n&&u(e),t=!1,l()}}}function C(o){let e,s,i,t;function l(r,_){return r[1]?ie:se}let c=l(o),n=c(o);return{c(){e=g("div"),n.c(),this.h()},l(r){e=v(r,"DIV",{class:!0});var _=b(e);n.l(_),_.forEach(u),this.h()},h(){p(e,"class","container svelte-171c1n0")},m(r,_){h(r,e,_),n.m(e,null),t=!0},p(r,_){c===(c=l(r))&&n?n.p(r,_):(n.d(1),n=c(r),n&&(n.c(),n.m(e,null)))},i(r){t||(r&&A(()=>{i&&i.end(1),s=J(e,j,{x:800,duration:750}),s.start()}),t=!0)},o(r){s&&s.invalidate(),r&&(i=z(e,j,{x:-800,duration:750})),t=!1},d(r){r&&u(e),n.d(),r&&i&&i.end()}}}function ae(o){let e,s,i=o[0],t=C(o);return{c(){e=g("main"),s=g("div"),t.c(),this.h()},l(l){e=v(l,"MAIN",{class:!0});var c=b(e);s=v(c,"DIV",{class:!0});var n=b(s);t.l(n),n.forEach(u),c.forEach(u),this.h()},h(){p(s,"class","grid svelte-171c1n0"),p(e,"class","svelte-171c1n0")},m(l,c){h(l,e,c),I(e,s),t.m(s,null)},p(l,[c]){c&1&&F(i,i=l[0])?(K(),T(t,1,1,Q),U(),t=C(l),t.c(),D(t,1),t.m(s,null)):t.p(l,c)},i(l){D(t)},o(l){T(t)},d(l){l&&u(e),t.d(l)}}}function re(o,e,s){let i,t,l;Y(o,N,n=>s(2,l=n));const c=n=>{W(N,l=n.id,l)};return o.$$.update=()=>{o.$$.dirty&4&&s(0,i=l),o.$$.dirty&1&&s(1,t=le.find(n=>n.id==i))},[i,t,l,c]}class _e extends H{constructor(e){super(),L(this,e,re,ae,F,{})}}export{_e as default};

import{S as U,i as Y,s as F,k as v,l as g,m as k,h as u,n as p,b as h,D as I,d as R,f as A,g as T,I as C,O as K,P as L,T as W,v as z,H as J,U as Q,q as S,r as w,u as D,a as E,c as N,L as X,K as G,V as Z,e as j,W as $,N as x}from"../chunks/index.b631eb22.js";import{w as ee}from"../chunks/index.4adfbf75.js";import{f as M}from"../chunks/index.7981f47f.js";const te=(window==null?void 0:window.localStorage.getItem("story_id"))??"1",O=ee(te);O.subscribe(o=>{window==null||window.localStorage.setItem("story_id",o),console.log(o)});let le=[{id:"1",message:"du går vilse i skogen och ser en mysterisk varelse",img:"cryptid.jpg",choices:[{id:"2",text:"Börja"}]},{id:"2",message:"hva skal du gjøre",img:"fly_out_the_car.jpeg",choices:[{id:"3",text:"Gå vänster"},{id:"4",text:"Gå höger"}]},{id:"3",message:"...",img:"kys_ending.png",choices:[{id:"4",text:"Other right"},{id:"4",text:"Right"}]},{id:"4",message:"",html:'<video controls autoplay ><source src="fish.mp4" type="video/mp4"></video>',choices:[{id:"1",text:"Reset!"}]}];function P(o,e,s){const i=o.slice();return i[4]=e[s],i}function se(o){let e,s,i,t;return{c(){e=v("p"),s=S("STORY FOR ID "),i=S(o[0]),t=S(" MISSING")},l(l){e=g(l,"P",{});var c=k(e);s=w(c,"STORY FOR ID "),i=w(c,o[0]),t=w(c," MISSING"),c.forEach(u)},m(l,c){h(l,e,c),I(e,s),I(e,i),I(e,t)},p(l,c){c&1&&D(i,l[0])},d(l){l&&u(e)}}}function ie(o){let e,s,i,t=o[1].message+"",l,c,n,a=o[1].img&&V(o),_=o[1].html&&q(o),b=o[1].choices,m=[];for(let r=0;r<b.length;r+=1)m[r]=H(P(o,b,r));return{c(){a&&a.c(),e=E(),_&&_.c(),s=E(),i=v("p"),l=S(t),c=E(),n=v("div");for(let r=0;r<m.length;r+=1)m[r].c();this.h()},l(r){a&&a.l(r),e=N(r),_&&_.l(r),s=N(r),i=g(r,"P",{});var d=k(i);l=w(d,t),d.forEach(u),c=N(r),n=g(r,"DIV",{class:!0});var f=k(n);for(let y=0;y<m.length;y+=1)m[y].l(f);f.forEach(u),this.h()},h(){p(n,"class","row svelte-171c1n0")},m(r,d){a&&a.m(r,d),h(r,e,d),_&&_.m(r,d),h(r,s,d),h(r,i,d),I(i,l),h(r,c,d),h(r,n,d);for(let f=0;f<m.length;f+=1)m[f].m(n,null)},p(r,d){if(r[1].img?a?a.p(r,d):(a=V(r),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),r[1].html?_?_.p(r,d):(_=q(r),_.c(),_.m(s.parentNode,s)):_&&(_.d(1),_=null),d&2&&t!==(t=r[1].message+"")&&D(l,t),d&6){b=r[1].choices;let f;for(f=0;f<b.length;f+=1){const y=P(r,b,f);m[f]?m[f].p(y,d):(m[f]=H(y),m[f].c(),m[f].m(n,null))}for(;f<m.length;f+=1)m[f].d(1);m.length=b.length}},d(r){a&&a.d(r),r&&u(e),_&&_.d(r),r&&u(s),r&&u(i),r&&u(c),r&&u(n),X(m,r)}}}function V(o){let e,s,i;return{c(){e=v("img"),this.h()},l(t){e=g(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){G(e.src,s=o[1].img)||p(e,"src",s),p(e,"alt",i=o[1].message),p(e,"class","svelte-171c1n0")},m(t,l){h(t,e,l)},p(t,l){l&2&&!G(e.src,s=t[1].img)&&p(e,"src",s),l&2&&i!==(i=t[1].message)&&p(e,"alt",i)},d(t){t&&u(e)}}}function q(o){let e,s=o[1].html+"",i;return{c(){e=new Z(!1),i=j(),this.h()},l(t){e=$(t,!1),i=j(),this.h()},h(){e.a=i},m(t,l){e.m(s,t,l),h(t,i,l)},p(t,l){l&2&&s!==(s=t[1].html+"")&&e.p(s)},d(t){t&&u(i),t&&e.d()}}}function H(o){let e,s=o[4].text+"",i,t,l;function c(){return o[3](o[4])}return{c(){e=v("button"),i=S(s)},l(n){e=g(n,"BUTTON",{});var a=k(e);i=w(a,s),a.forEach(u)},m(n,a){h(n,e,a),I(e,i),t||(l=x(e,"click",c),t=!0)},p(n,a){o=n,a&2&&s!==(s=o[4].text+"")&&D(i,s)},d(n){n&&u(e),t=!1,l()}}}function B(o){let e,s,i,t;function l(a,_){return a[1]?ie:se}let c=l(o),n=c(o);return{c(){e=v("div"),n.c(),this.h()},l(a){e=g(a,"DIV",{class:!0});var _=k(e);n.l(_),_.forEach(u),this.h()},h(){p(e,"class","container svelte-171c1n0")},m(a,_){h(a,e,_),n.m(e,null),t=!0},p(a,_){c===(c=l(a))&&n?n.p(a,_):(n.d(1),n=c(a),n&&(n.c(),n.m(e,null)))},i(a){t||(a&&K(()=>{i&&i.end(1),s=L(e,M,{x:800,duration:750}),s.start()}),t=!0)},o(a){s&&s.invalidate(),a&&(i=W(e,M,{x:-800,duration:750})),t=!1},d(a){a&&u(e),n.d(),a&&i&&i.end()}}}function re(o){let e,s,i=o[0],t=B(o);return{c(){e=v("main"),s=v("div"),t.c(),this.h()},l(l){e=g(l,"MAIN",{class:!0});var c=k(e);s=g(c,"DIV",{class:!0});var n=k(s);t.l(n),n.forEach(u),c.forEach(u),this.h()},h(){p(s,"class","grid svelte-171c1n0"),p(e,"class","svelte-171c1n0")},m(l,c){h(l,e,c),I(e,s),t.m(s,null)},p(l,[c]){c&1&&F(i,i=l[0])?(z(),R(t,1,1,J),A(),t=B(l),t.c(),T(t,1),t.m(s,null)):t.p(l,c)},i(l){T(t)},o(l){R(t)},d(l){l&&u(e),t.d(l)}}}function ae(o,e,s){let i,t,l;C(o,O,n=>s(2,l=n));const c=n=>{Q(O,l=n.id,l)};return o.$$.update=()=>{o.$$.dirty&4&&s(0,i=l),o.$$.dirty&1&&s(1,t=le.find(n=>n.id==i))},[i,t,l,c]}class _e extends U{constructor(e){super(),Y(this,e,ae,re,F,{})}}export{_e as component};

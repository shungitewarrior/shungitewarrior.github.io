import{S as A,i as B,s as C,k as g,a as M,l as v,m as y,h as b,c as D,n as u,K as I,b as V,D as m,N as E,H as G,L as H,Q as j,R as q}from"../chunks/index.b631eb22.js";function N(r,e,t){const s=r.slice();return s[12]=e[t],s[14]=t,s}function S(r){let e,t,s,f,i,_,d,p,h;function a(){return r[3](r[12])}function c(){return r[4](r[12])}return{c(){e=g("div"),t=g("img"),f=M(),i=g("img"),d=M(),this.h()},l(o){e=v(o,"DIV",{class:!0});var l=y(e);t=v(l,"IMG",{class:!0,src:!0,alt:!0}),f=D(l),i=v(l,"IMG",{class:!0,src:!0,alt:!0}),d=D(l),l.forEach(b),this.h()},h(){u(t,"class","front svelte-1663bm2"),I(t.src,s=r[12].img)||u(t,"src",s),u(t,"alt",""),u(i,"class","back svelte-1663bm2"),I(i.src,_="fleshdoor.png")||u(i,"src",_),u(i,"alt",""),u(e,"class","card svelte-1663bm2"),q(e,"flipped",r[12].flipped)},m(o,l){V(o,e,l),m(e,t),m(e,f),m(e,i),m(e,d),p||(h=[E(e,"click",a),E(e,"keypress",c)],p=!0)},p(o,l){r=o,l&1&&!I(t.src,s=r[12].img)&&u(t,"src",s),l&1&&q(e,"flipped",r[12].flipped)},d(o){o&&b(e),p=!1,j(h)}}}function K(r){let e,t,s,f,i,_,d,p,h=r[0],a=[];for(let c=0;c<h.length;c+=1)a[c]=S(N(r,h,c));return{c(){e=g("body"),t=g("main"),s=g("div");for(let c=0;c<a.length;c+=1)a[c].c();f=M(),i=g("img"),this.h()},l(c){e=v(c,"BODY",{class:!0});var o=y(e);t=v(o,"MAIN",{class:!0});var l=y(t);s=v(l,"DIV",{class:!0});var k=y(s);for(let n=0;n<a.length;n+=1)a[n].l(k);k.forEach(b),l.forEach(b),f=D(o),i=v(o,"IMG",{class:!0,src:!0,alt:!0}),o.forEach(b),this.h()},h(){u(s,"class","row svelte-1663bm2"),u(t,"class","svelte-1663bm2"),u(i,"class","reset_button svelte-1663bm2"),I(i.src,_="restart.png")||u(i,"src",_),u(i,"alt",""),u(e,"class","svelte-1663bm2")},m(c,o){V(c,e,o),m(e,t),m(t,s);for(let l=0;l<a.length;l+=1)a[l].m(s,null);m(e,f),m(e,i),d||(p=[E(i,"keypress",r[5]),E(i,"click",r[6])],d=!0)},p(c,[o]){if(o&3){h=c[0];let l;for(l=0;l<h.length;l+=1){const k=N(c,h,l);a[l]?a[l].p(k,o):(a[l]=S(k),a[l].c(),a[l].m(s,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=h.length}},i:G,o:G,d(c){c&&b(e),H(a,c),d=!1,j(p)}}}function T(r){let e=r.length,t;for(;e!=0;)t=Math.floor(Math.random()*e),e--,[r[e],r[t]]=[r[t],r[e]];return r}function L(r,e,t){let s=[],f=["tl_face.png","greyface.png","greenskull.png","child worker.png","coal mine.png","default_pfp.jpg"],i=f.length;for(let n=0;n<i;n++)f.push(f[n]);T(f);let _=!0,d;for(let n=0;n<f.length;n++)s.push({id:n,img:f[n],flipped:!1,completed:!1});let p=0;function h(n){!n.flipped&&p<2&&_&&(p==1&&n.img==d.img&&(d.completed=!0,n.completed=!0,p=-1),d=n,n.flipped=!0,p++,p==2&&setTimeout(()=>{s.forEach(w=>{w.flipped=w.completed}),p=0,t(0,s)},1e3),t(0,s))}function a(){s.forEach(n=>{n.flipped=!1,n.completed=!1}),p=0,t(0,s),d="",_=!1,setTimeout(()=>{T(s),t(0,s),_=!0},1e3)}return[s,h,a,n=>{h(n)},n=>{h(n)},()=>{a()},()=>{a()}]}class P extends A{constructor(e){super(),B(this,e,L,K,C,{})}}export{P as component};

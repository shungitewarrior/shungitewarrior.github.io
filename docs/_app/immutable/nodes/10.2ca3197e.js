import{S as j,i as A,s as B,k as m,a as I,l as k,m as q,h as z,c as E,n as u,K as y,b as T,D as g,N as b,H as D,L as C,Q as V,R as w}from"../chunks/index.b631eb22.js";function G(r,e,t){const s=r.slice();return s[12]=e[t],s[14]=t,s}function N(r){let e,t,s,f,i,_,d,p,h;function a(){return r[3](r[12])}function c(){return r[4](r[12])}return{c(){e=m("div"),t=m("img"),f=I(),i=m("img"),d=I(),this.h()},l(o){e=k(o,"DIV",{class:!0});var l=q(e);t=k(l,"IMG",{class:!0,src:!0,alt:!0}),f=E(l),i=k(l,"IMG",{class:!0,src:!0,alt:!0}),d=E(l),l.forEach(z),this.h()},h(){u(t,"class","front svelte-qkgzrz"),y(t.src,s=r[12].img)||u(t,"src",s),u(t,"alt",""),u(i,"class","back svelte-qkgzrz"),y(i.src,_="fleshdoor.png")||u(i,"src",_),u(i,"alt",""),u(e,"class","card svelte-qkgzrz"),w(e,"flipped",r[12].flipped)},m(o,l){T(o,e,l),g(e,t),g(e,f),g(e,i),g(e,d),p||(h=[b(e,"click",a),b(e,"keypress",c)],p=!0)},p(o,l){r=o,l&1&&!y(t.src,s=r[12].img)&&u(t,"src",s),l&1&&w(e,"flipped",r[12].flipped)},d(o){o&&z(e),p=!1,V(h)}}}function H(r){let e,t,s,f,i,_,d,p,h=r[0],a=[];for(let c=0;c<h.length;c+=1)a[c]=N(G(r,h,c));return{c(){e=m("body"),t=m("main"),s=m("div");for(let c=0;c<a.length;c+=1)a[c].c();f=I(),i=m("img"),this.h()},l(c){e=k(c,"BODY",{class:!0});var o=q(e);t=k(o,"MAIN",{class:!0});var l=q(t);s=k(l,"DIV",{class:!0});var v=q(s);for(let n=0;n<a.length;n+=1)a[n].l(v);v.forEach(z),l.forEach(z),f=E(o),i=k(o,"IMG",{class:!0,src:!0,alt:!0}),o.forEach(z),this.h()},h(){u(s,"class","row svelte-qkgzrz"),u(t,"class","svelte-qkgzrz"),u(i,"class","reset_button svelte-qkgzrz"),y(i.src,_="restart.png")||u(i,"src",_),u(i,"alt",""),u(e,"class","svelte-qkgzrz")},m(c,o){T(c,e,o),g(e,t),g(t,s);for(let l=0;l<a.length;l+=1)a[l].m(s,null);g(e,f),g(e,i),d||(p=[b(i,"keypress",r[5]),b(i,"click",r[6])],d=!0)},p(c,[o]){if(o&3){h=c[0];let l;for(l=0;l<h.length;l+=1){const v=G(c,h,l);a[l]?a[l].p(v,o):(a[l]=N(v),a[l].c(),a[l].m(s,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=h.length}},i:D,o:D,d(c){c&&z(e),C(a,c),d=!1,V(p)}}}function S(r){let e=r.length,t;for(;e!=0;)t=Math.floor(Math.random()*e),e--,[r[e],r[t]]=[r[t],r[e]];return r}function K(r,e,t){let s=[],f=["tl_face.png","greyface.png","greenskull.png","child worker.png","coal mine.png","default_pfp.jpg"],i=f.length;for(let n=0;n<i;n++)f.push(f[n]);S(f);let _=!0,d;for(let n=0;n<f.length;n++)s.push({id:n,img:f[n],flipped:!1,completed:!1});let p=0;function h(n){!n.flipped&&p<2&&_&&(p==1&&n.img==d.img&&(d.completed=!0,n.completed=!0,p=-1),d=n,n.flipped=!0,p++,p==2&&setTimeout(()=>{s.forEach(M=>{M.flipped=M.completed}),p=0,t(0,s)},1e3),t(0,s))}function a(){s.forEach(n=>{n.flipped=!1,n.completed=!1}),p=0,t(0,s),d="",_=!1,setTimeout(()=>{S(s),t(0,s),_=!0},1e3)}return[s,h,a,n=>{h(n)},n=>{h(n)},()=>{a()},()=>{a()}]}class O extends j{constructor(e){super(),A(this,e,K,H,B,{})}}export{O as component};
